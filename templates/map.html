{% extends 'base.html' %}

{% block title %}Map Demo{% endblock %}

{% block content %}
<h2>Map Demo(Leaflet)</h2>

<!-- Leaflet CSS -->
<link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />

<div id="map" style="height: 500px; width: 100%;"></div>

<!-- Leaflet JS -->
<script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>

<script>
    // Initialize map (centered on Islamabad for demo)
    var map = L.map('map').setView([33.6844, 73.0479], 12);

    // Add OpenStreetMap tiles
    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
        attribution: 'Â© OpenStreetMap contributors'
    }).addTo(map);

    // Dummy polygon coordinates (around Islamabad-ish area)
    var polygonCoords = [
        [33.7200, 73.0550], // Point 1
        [33.7100, 73.0900], // Point 2
        [33.6800, 73.1200], // Point 3
        [33.6500, 73.0800], // Point 4
        [33.6700, 73.0300], // Point 5
        [33.7200, 73.0550]  // Back to start to close polygon
    ];

    // Draw polygon (filled area)
    var polygon = L.polygon(polygonCoords, {
        color: "blue",       // border color
        fillColor: "lightblue", 
        fillOpacity: 0.4
    }).addTo(map);

    polygon.bindPopup("This is the demo polygon area.");

    // Also draw polyline (same coords but just connected lines)
    var polyline = L.polyline(polygonCoords, {
        color: "red",
        weight: 3
    }).addTo(map);

    polyline.bindPopup("This is the outline path.");
</script>
{% endblock %}
